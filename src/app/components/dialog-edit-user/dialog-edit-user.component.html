<div class="mat-dialog-header">
    <i class="material-icons">edit</i>
    <h1 mat-dialog-title>Edit User</h1>
</div>

<form [formGroup]="editUserForm" (ngSubmit)="onSubmit()">
    <div mat-dialog-content *ngIf="authService.userData as user">
        <div (click)="fileUpload.click()" class="profile-picture-wrapper" title="Upload new profile picture">
            <img class="profile-picture" src="{{ user.photoURL? user.photoURL : './../../../assets/img/blank_profile_picture.svg' }}" alt="{{ user.displayName }}" />
            <i class="material-icons">upload</i>
        </div>
        <mat-form-field appearance="outline">
            <mat-label>Change Display Name</mat-label>
            <input formControlName="newDisplayName" placeholder="Change Display Name" minlength="3" matInput required>
            <mat-error *ngIf="this.editUserForm.invalid">*Please enter at least 3 characters</mat-error>
        </mat-form-field>
        <input (change)="this.firestorageService.uploadImage($event); this.dialogRef.close()" #fileUpload type="file" accept=".jpg,.png" hidden>
    </div>
    <div mat-dialog-actions>
        <button (click)="this.dialogRef.close()" mat-button title="Cancel">Cancel</button>
        <button (click)="this.openDeleteUserDialog(); this.dialogRef.close()" mat-button color="warn" title="Delete User">Delete User</button>
        <button type="submit" color="primary" mat-button cdkFocusInitial title="Ok">Ok</button>
    </div>
</form>